diff --git a/clang/lib/Driver/ToolChains/Darwin.cpp b/clang/lib/Driver/ToolChains/Darwin.cpp
index febde361a429..b6944316d63c 100644
--- a/clang/lib/Driver/ToolChains/Darwin.cpp
+++ b/clang/lib/Driver/ToolChains/Darwin.cpp
@@ -27,6 +27,7 @@
 #include "llvm/Support/Threading.h"
 #include "llvm/Support/VirtualFileSystem.h"
 #include <cstdlib> // ::getenv
+#include <TargetConditionals.h>
 
 using namespace clang::driver;
 using namespace clang::driver::tools;
@@ -1813,7 +1814,7 @@ std::string getOSVersion(llvm::Triple::OSType OS, const llvm::Triple &Triple,
       Triple.getiOSVersion(Major, Minor, Micro);
     break;
   case llvm::Triple::TvOS:
-    Triple.getOSVersion(Major, Minor, Micro);
+    Triple.getiOSVersion(Major, Minor, Micro);
     break;
   case llvm::Triple::WatchOS:
     Triple.getWatchOSVersion(Major, Minor, Micro);
@@ -1837,11 +1838,13 @@ inferDeploymentTargetFromArch(DerivedArgList &Args, const Darwin &Toolchain,
 
   StringRef MachOArchName = Toolchain.getMachOArchName(Args);
   if (MachOArchName == "arm64" || MachOArchName == "arm64e") {
-#if __arm64__
+#if (__arm64__) && (TARGET_OS_OSX)
     // A clang running on an Apple Silicon mac defaults
     // to building for mac when building for arm64 rather than
     // defaulting to iOS.
     OSTy = llvm::Triple::MacOSX;
+#elif (__arm64__) && (TARGET_OS_TVOS)
+    OSTy = llvm::Triple::TvOS;
 #else
     OSTy = llvm::Triple::IOS;
 #endif
